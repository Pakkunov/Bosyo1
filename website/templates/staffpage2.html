{% extends "main.html" %}

{% block title %}Profile Page{% endblock title %}
{% block content %}

{% comment %} ----------------------------------------------------------- {% endcomment %}
{% comment %} This page is the Dashboard {% endcomment %}
{% comment %} ----------------------------------------------------------- {% endcomment %}

{% include 'sidebar.html' %}

{% load static %}

{% comment %} <link rel="stylesheet" href="{% static '/css/dashboardstyle.css' %}"> {% endcomment %}
<link rel="stylesheet" href="{% static '/css/staffpagestyle.css' %}">

<meta name="description" content="List of Trucks">
<meta name="keywords" content="Truck List">
</head>


<body 
style="
--bs-primary: #008751;
--bs-primary-rgb: 0, 135, 81;
--bs-secondary: #1f1f1f;
--bs-secondary-rgb: 31, 31, 31;
--bs-success: #31f99d;
--bs-success-rgb: 49, 249, 157;
">

{% comment %} Bosyo Home Logo {% endcomment %}
<section style="margin-left: 100px; margin-top: 20px;">
    <a href="{% url 'home' %}">
    <picture id="logo">
      <img
        src="\static\images\BosyoLogoClear.png"
        class="py-1 d-none d-lg-block mx-5"
        style="width: 174px; margin: 0px; padding: 0px">
      </picture>
  </a>
</section>

<section style="">
  <div class="container staff-container">
    <div class="row">
      <div class="col w-50">
        <h1 class="pt-5 fw-bold" style="font-family: 'Montserrat', sans-serif; color: green;">Recent Activity</h1>
        <h6 class="my-3">Check here to stay up-to-date with your account activity.</h6>
        <!-- Manual and Increase Payment -->
        <div class="d-flex justify-content-between col-4 mt-3">
          <a href="/manualpayment">
            <button class="btnPayment btn-primary me-2" type="button">
              <i class='bx bxs-bank'></i> Manual Payment
            </button>
          </a>
          <form method="POST" action="{% url 'increase_balance' %}">
            {% csrf_token %}
            <button type="submit" class="btnPayment btn-primary ms-2">
              <i class='bx bx-plus-medical' ></i> Increase Balance
            </button>
          </form>
        </div>      
      </div>
      <div class="col mt-5">
        {% comment %} <h5 class="fs-5 pt-5 mt-4 d-none d-md-block" style="font-family: 'Montserrat', sans-serif;">Welcome back, <span class="servicesUnderline fw-bold">{{user.username}}.</span> Take a look around!</h5> {% endcomment %}
      </div>
    </div>
    <div class="row">
          <div class="col-md-6" style="margin-top: 20px;">
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                          <tr class="text-dark" style="vertical-align: top;">
                            <th></th>
                            <th>Username</th>
                            <!-- <th>E-mail</th> -->
                            <!-- <th>Address</th> -->
                            <!-- <th>Mobile phone</th> -->
                            <!-- <th>Landline</th> -->
                            <!-- <th>No. of Houses</th> -->
                            <!-- <th>Payrate</th> -->
                            <!-- <th>Total Rate</th> -->
                            <th>Outstanding Bal.</th>
                          </tr>
                        </thead>
                        <tbody>
                          {% for user in accounts %}  
                          <tr class="useracc">
                              <td class="text-truncate text-dark" style="max-width: 100px;"><i class="bi bi-file-earmark-person-fill"></i></td>
                              <td class="text-truncate text-dark fw-b" style="max-width: 100px;">{{user.username}}</td>
                              <!-- <td class="text-truncate text-dark" style="max-width: 100px;">{{user.email}}</td> -->
                              <!-- <td class="text-truncate text-dark" style="max-width: 100px;">{{user.address}}</td> -->
                              <!-- <td class="text-truncate text-dark" style="max-width: 100px;">{{user.MobilePhone}}</td> -->
                              <!-- <td class="text-truncate" style="max-width: 100px;">{{user.Landline}}</td> -->
                              <!-- <td class="text-truncate text-dark" style="max-width: 100px;">{{user.houses}}</td> -->
                              <!-- <td class="text-truncate text-dark" style="max-width: 100px;">{{user.payrate}}</td> -->
                              <!-- <td class="text-truncate text-dark" style="max-width: 100px;">{{user.rate}}</td> -->
                              {% load humanize %}
                          {% if user.outstanding_balance is none %}
                              <td class="text-truncate text-dark" style="max-width: 100px;">₱ 0</td>
                          {% else %}
                              <td class="text-truncate text-dark" style="max-width: 100px;">₱ {{user.outstanding_balance|intcomma}}</td>
                          {% endif %}
                        </tr>
                          {% endfor %} 
                      </tbody>
                    </table>
                  </div>
              </div>
          </div>
          {% comment %} Recent Transactions {% endcomment %}
          <div class="col-sm-12 col-md-11 col-lg-10 col-xl-6" style="margin-top: 35px;">
            <div class="text-light" style="border-radius: 20px; background-color: rgb(20, 20, 20); border: none;">
              <div class="mx-3 py-3 mb-5">
                <h6 class="fs-6 fw-bold">Recent transactions</h6>
                  <div class="table-responsive">
                    <table class="table">
                        <thead>
                          <tr class="text-light" style="border: none;">
                            <th></th>
                            <th>Date</th>
                            <th>User</th>
                            <th>Amount</th>
                            <th>Transaction ID</th>
                          </tr>
                        </thead>
                        <tbody>
                          {% for payment in payments %}
                            {% if forloop.counter < 11  %}  
                              <tr class="text-light">
                                <td><i class="bi bi-currency-exchange"></i></td>
                                <td>{{payment.Date_paid}}</td>
                                <td>{{payment.User_who_Paid}}</td>
                                {% load humanize %}
                                <td>₱ {{payment.amount|intcomma}}</td>
                                <td>{{payment.transaction_id}}</td>
                              </tr>
                              {% endif %}
                          {% endfor %}
                        </tbody>
                    </table>
                </div>
              </div>
            </div>
          </div>
      </div>
  </div>
</section>

<!-- Category -->

<section class="category-section">
  <div class="category-content">
    <div class="category-heading">
      <div class="container">
        <h1 class="fw-bold">
          Category
          <div class="row">
            <div class="col button-col">
              <span class="category-button">
              <a href="/qrlogin">
                <button class="btnCategory btn-primary" type="button">
                  <i class='bx bxs-report' style="font-size: 60px; margin-bottom: 10px;"></i><br>
                  Attendance
                </button>
              </a>
              </span>
            </div>
          </div>
        </h1>
      </div>
    </div>
  </div>
</div>

<section style="margin-left: 140px; margin-top: 40px;">
  <div class="container">
    <div class="row">
      <div class="col w-50">
        <div class="col my-4 w-75" style="">
          <h1 class="fs-1 my-4" style="font-family: 'Montserrat', sans-serif;"><span class="servicesUnderline2">Employee Attendance</span></h1>
          <h6 class="fs-6 mb-4">
            Ready to check attendance of employees? Click the button below to<span class="fw-bold"> take attendance.</span>
          </h6>
          <p class="pb-4">Employees can simply scan a QR code with their smartphone or tablet when they arrive at work, and the system will automatically log their arrival time. </p>
          <a href="/qrlogin">
            <button class="btnPayment btn-primary" type="button">
              Attendance <i class='bx bxs-report'></i>
            </button>
          </a>
        </div>
      </div>
      <div class="col-md-5 my-3">
        <div class="col-md-4 text-center" style="background-image: linear-gradient(120deg, #84fab0, #4bb2e694); border-radius: 20px; border: 2px solid black; width: 400px; height: 230px; padding: 60px;">
        {% comment %} <img src="\static\images\people.jpg" alt="" class="imgAttendance"> {% endcomment %}
        <h1 class="display-1">
          <i class='bx bxs-report'></i>
        </h1>
        </div>
      </div>
    </div>
  </div>
</section>

<section style="margin-left: 140px; margin-top: 40px;">
  <div class="container">
    <div class="row">
      <div class="col w-50">
        <div class="col my-4">
          <h1 class="fs-1 my-4" style="font-family: 'Montserrat', sans-serif;">
            <span class="servicesUnderline2">Truck Maintenance Expenses</span>
          </h1>
          <h6 class="mb-4">
            All <span class="fw-bold">truck maintenance expenses</span> will be recorded here.
          </h6>
          <p class="mb-5">These expenses can include regular maintenance tasks like oil changes, tire replacements, and brake inspections, as well as more significant repairs like engine overhauls and transmission replacements.</p>
          <a href="/TruckMaintenance">
            <button class="btnPayment btn-primary" type="button">
              Truck Expenses <i class="bi bi-person-bounding-box ps-3"></i>
            </button>
          </a>
        </div>
      </div>
      <div class="col-md-5 my-3">
        <div class="col-md-6 text-center" style="background-image: linear-gradient(120deg, #84fab0, #4bb2e694); border-radius: 20px; border: 2px solid black; width: 400px; height: 230px; padding: 60px;">
          {% comment %} <img src="\static\images\people.jpg" alt="" class="imgAttendance"> {% endcomment %}
          <h1 class="display-1">
            <i class='bx bxs-truck'></i>
          </h1>
        </div>
      </div>
    </div>
  </div>
</section>

<section style="margin-left: 140px; margin-top: 40px;">
  <div class="container">
    <div class="row">
      <div class="col w-50">
        <div class="col my-4">
          <h1 class="fs-1 my-4" style="font-family: 'Montserrat', sans-serif;">
            <span class="servicesUnderline2">Generate QR Code</span>
          </h1>
          <h6 class="fs-6 mb-4">
            This will make you create <span class="fw-bold">QR Codes for your employees</span> so that you can record their attendance.
          </h6>
          <p class="pb-4">
            By generating a personalized QR code with a person's name, you can quickly and conveniently record attendance at work.
          </p>
          <a href="/qr-code">
            <button class="btnPayment btn-primary" type="button">
              QR Code <i class="bi bi-person-bounding-box ps-3"></i>
            </button>
          </a>
        </div>
      </div>
      <div class="col-md-5 my-3">
        <div class="col-md-6 text-center" style="background-image: linear-gradient(120deg, #84fab0, #4bb2e694); border-radius: 20px; border: 2px solid black; width: 400px; height: 230px; padding: 60px;">
          {% comment %} <img src="\static\images\people.jpg" alt="" class="imgAttendance"> {% endcomment %}
          <h1 class="display-1">
            <i class="bi bi-person-bounding-box ps-3"></i>
          </h1>
        </div>
      </div>
    </div>
  </div>
</section>



</body>




{% endblock content %}